# 코틀린이란 무엇이며 왜 필요한가?  

1장에서는 코틀린의 주요 특성을 자세히 살펴본다.

### 1.1 코틀린 맛보기


나이가 많은 사람을 찾아 출력하는 코드

```kotlin
data class Person(val name: String, val age: Int? = null)
// data Class ? 은 널이 들어갈 수 있는 타입


// 최상위 함수
fun main(args: Array<String>) {
    val persons = listOf(Person("영희"), 
                        Person("철수", age = 29))
                        // 이름 붙은 파라미터
    
    val oldest = persons.maxBy { it.age ?: 0 } // 람다식과 엘비스 연산자
    println("나이가 가장 많은 사람 : $oldest") // 문자열 템플릿
}
```
####result : 
```kotlin
나이가 가장 많은 사람 : Person(name=철수, age=29)
```

코틀린에서는 it 이라는 이름을 사용하면 람다식의 유일한 인자를 사용할 수 있다.

### 1.2 코틀린의 주요 특성

#### 1.2.2 정적 타입 지정 언어
자바와 마찬가지로 코틀린도 정적 타입 지정 언어다.   
정적타입 지정이라는 말은 모든 프로그램 구성 요소의 타입을 컴파일 시점에 알 수 있고 프로그램 안에서 객체의 필드나 메소드를 사용할 때마다 컴파일러가 타입을 검증해준다는 뜻이다.

JVM 에서는 Groovy, JRuby 가 대표적인 동적 타입 지정 언어다.

코틀린에서는 컴파일러가 문맥으로부터 변수 타입을 자동으로 유추할 수 있기 때문에 프로그래머는 타입 선언을 생략해도 된다.  
가장 간단한 예는
```kotlin
var x = 1
```

정수값으로 초기화가 된다.

##### 정적 타입의 장점
```text
성능 : 실행 시점에 어떤 메소드를 호출할지 알아내는 과정이 필요 없으므로 메소드 호출이 더 빠름
신뢰성 : 컴파일러가 정확성을 검증하기 떄문에 실행시 프로그램이 오류로 중단될 가능성이 적음
유지 보수성 : 코드에서 다루는 객체가 어떤 타입에 속하는지 알 수 있기 때문에 처음 보는 코드를 다룰 때도 더 쉽다.
도구 지원 : 정적 타입 지정을 활용하면 더 안전하게 리팩토링 할 수 있고 도구는 더 정확한 코드 완성 기능을 제공할 수 있다.
```

#### 1.2.3 함수형 프로그래밍과 객체지향 프로그래밍
함수형 프로그래밍의 개념.

```text
- first-class 함수 : 함수를 일반 값처럼 다룰수 있다. 함수를 변수에 저장할 수 있고, 함수를 인자로 다른 함수에 전달할 수 있으며, 함수에서 새로운 함수를 만들어서 반환할 수 있다.
- 불변성 : 함수형 프로그래밍은 일단 만들어지고 나면 내부 상태가 절대로 바뀌지 않는 불변객체를 사용해 프로그램을 작성한다.
- side-effect 없음 : 함수형 프로그래밍에서는 입력이 같으면 항상 같은 출력을 내놓고 다른 객체의 상태를 변경하지 않으며, 함수 외부나 다른 바깥 환경과 상호작용하지 않는 순수 함수를 사용한다.
```

함수형 프로그래밍의 장점:
```text
1. 간결성 (람다식)
2. 다중 스레드 안정성 
3. 테스트가 쉽다.
```

###1.3 코틀린 응용
####1.3.1 서버 프로그래밍
```text
1. 브라우저 html 페이지를 돌려주는 웹 애플리케이션  
2. api 서버 
3. RPC(원격 프로시저 호출) 프로토콜을 통해 서로 통신하는 작은 서비스들로 이뤄진 MSA
```

####1.3.2 안드로이드 프로그래밍
```kotlin
verticalLayout {
    val name editText()
    button("Say Hello") {
        onClick { toast("Hello, ${name.text}")}
    }
}
```

###1.4 코틀린의 철학  
####1.4.1 실용성  

####1.4.2 간결성  
개발자가 새로 작성하는 시간보다 기존 코드를 읽는 시간이 더 길다는 사실은 잘 알려져있다.
버그를 수정한다고 했을때 가장 먼저 해야할일은 수정할 부분을 찾는 일이다.
그래야만 버그를 수정할 수 있다.

코틀린은 만들면서 프로그래머가 작성하는 코드에서 의미가 없는 부분을 줄이고, 언어가 요구하는 구조를 만족시키기 위해 별뜻은 없지만 프로그램에 꼭 넣어야 하는 부수적인 요소를 많이 줄였다.
ex) getter, setter, parameter 등. 

코드가 더 간결하면 쓰는데 시간이 덜 걸린다. 중요한것은 읽는데도 시간이 덜 걸린다는 것이다.
개발자의 생산성을 향상시켜주고 개발을 더 빠르게 진행할 수 있게 해준다.

####1.4.3 안정성
nullable 을 검사해준다.
####1.4.4 상호 운용성

###1.5 코틀린 도구 사용
듀토리얼 : https://kotlinlang.org/docs/tutorials

####1.5.1 코틀린 코드 컴파일
####1.5.3 대화형 셀
코틀린 코드를 빨리 시험해보고 싶다면 대화형 쉘 을 사용하면 된다.  
REPL 라고도 불린다. REPL 을 실행하려면 kotlinc 명령을 아무 인자없이 실행하거나  
IntelliJ 아이디어 플러그인 메뉴(tool -> kotlin -> 코틀린 REPL) 을 사용하면 된다

