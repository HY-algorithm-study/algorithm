# 함수 정의와 호출
## 다루는 내용
- 컬렉션, 문자열, 정규식을 다루기 위한 함수
- 이름 붙인 인자, 디폴트 파라미터 값, 중위 호출 문법
- 확장 함수와 확장 프로퍼티를 사용해 자바 라이브러리 적용
- 최상위 및 로컬 함수와 프로퍼티를 사용해 코드 구조화

### 3.1 코틀린에서 컬렉션 만들기

코틀린으로 셋 만들기

```kotlin
val set = hashSetOf(1, 7, 53)
```
비슷한 방법으로 리스트와 맵도 가능하다.
```kotlin
val list = arrayListOf(1, 7, 53)
val map = hashMapOf(1 to "one", 7 to "seven", 53 to "fifty-three")
// to 가 언어가 제공하는 특별한 키워드가 아니라 일반 함수다.
```


코틀린 컬렉션에서는 많은 기능들을 사용할 수 있다.
```kotlin
val strings = listOf("first","second","fourteenth")
// >>> println(strings.last())
// fourteenth

val numbers = setOf(1, 14, 2)
// >>> println(numbers.max())
// 14
```

### 3.2 함수를 호출하기 쉽게 만들기.

자바 컬렉션에는 디폴트 toString 구현이 들어있다.
하지만, 우리가 원하는 형식이 아닐수도 있다.

```kotlin
val list = listOf(1,2,3)
/// >>>println(list)
/// [1, 2, 3]
```

디폴트 구현과 달리 (1;2;3) 처럼 원소사이에 세미콜론을 붙이고 싶다면
joinToString 을 이요하면 된다.

joinToString() 함수의 초기구현

```kotlin
fun <T> joinToString (
    collection: Collection<T>,
    separator: String, 
    prefix: String,
    postfix: String
) : String {
    val result = StringBuilder(prefix)
    for((index, element) in collection.withIndex()) {
        if (index > 0) result.append(separator) 
        // 첫 원소 앞에는 구분자를 붙이면 안된다.
        result.append(element)
    }
    result.append(postfix)
    return result.toString()
}
```

이 함수는 제네릭 하다. 
```kotlin
val list = listOf(1,2,3)
println(joinToString(list, ";", "(", ")")

// (1;2;3)
```
이렇게 잘 작동할 것이다.

#### 3.2.1 이름 붙인 인자.
위의 함수에서 해결하고픈 부분은 가독성이다.

```kotlin
joinToString(collection, "", "", ".")
// 가독성이 떨어진다.

joinToString(collection, separator = "", prefix = "", postfix = ".")
// 코틀린에서는 이렇게 쓸수도 있다.
```

#### 3.2.2 디폴트 파라미터 값

```kotlin
fun <T> joinToString (
    collection: Collection<T>,
    separator: String = ",", 
    prefix: String = "",
    postfix: String = ""
) : String {
    val result = StringBuilder(prefix)
    for((index, element) in collection.withIndex()) {
        if (index > 0) result.append(separator) 
        // 첫 원소 앞에는 구분자를 붙이면 안된다.
        result.append(element)
    }
    result.append(postfix)
    return result.toString()
}
```

#### 3.2.3 정적인 유틸리티 클래스 없애기. : 최상위 함수와 프로퍼티

다른 패키지로 빼내서도 호출이 가능하다.

```kotlin
@file:JvmName(""StringFunctions")

// 를 선언해두면


StringFunctions.joinToString(list)
// 를 사용가능하다.
```
다음장에서 이것을 좀더 개선해보도록 하자.

### 3.3 메소드를 다른 클래스에 추가 : 확장 함수와 확장 프로퍼티

 
